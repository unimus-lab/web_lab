import{u as Pa,g as R,r as x,o as f,c as v,a as t,w as E,b as oa,v as ra,d as n,s as Ta,e as Ea,f as Ia,h as $,i as da,j as ua,k as ma,l as o,m as A,F as I,n as ha,p as Ua,t as B,q as ia,x as Y,y as U,z as Sa,A as Ma,U as _a,D as ga,B as N,C as pa,K as fa,G as ba,E as va,H as M,I as ka,J as Q,Q as ya,O as S,L as Ba,M as L,S as C,N as wa,P as O,T as W,R as G,V as $a,W as Va,X as qa,Y as Ra,Z as Na,_ as Ka,$ as Ja,a0 as Ha}from"./vendor.b8b49698.js";const za=function(){const h=document.createElement("link").relList;if(h&&h.supports&&h.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))u(i);new MutationObserver(i=>{for(const d of i)if(d.type==="childList")for(const r of d.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&u(r)}).observe(document,{childList:!0,subtree:!0});function l(i){const d={};return i.integrity&&(d.integrity=i.integrity),i.referrerpolicy&&(d.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?d.credentials="include":i.crossorigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function u(i){if(i.ep)return;i.ep=!0;const d=l(i);fetch(i.href,d)}};za();const Fa={class:"container"},Ya={class:"main-wrapper"},Qa={class:"row"},Wa={class:"col-12 col-md-4 offset-md-4"},Ga=t("div",{class:"text-center mb-5"},[t("img",{src:"https://i.imgur.com/D9NYwqp.png",class:"img-fluid",style:{"max-width":"250px"}})],-1),Xa=["onSubmit"],Za={class:"form-floating mb-3"},ae=t("label",{for:"floatingInput"},"Email",-1),ee={class:"form-floating mb-3"},te=t("label",{for:"floatingPassword"},"Password",-1),ne=t("button",{class:"btn btn-success form-control",type:"submit"},"Login",-1),le={setup(m){const h=Pa(),l=R(),u=x({email:"",password:""}),i=async()=>{Ta(l,Ia).then(()=>(Ea(l,u.email,u.password),h.push({name:"DaftarBahanAlat"}))).catch(d=>{switch(d.code){case"auth/user-not-found":alert("User tidak di temukan di database, hubungi admin untuk mendapatkan akses masuk.");break;case"auth/wrong-password":alert("Password salah.");break;default:alert("Something went wrong.")}})};return(d,r)=>(f(),v("div",Fa,[t("div",Ya,[t("div",Qa,[t("div",Wa,[Ga,t("form",{onSubmit:E(i,["prevent"])},[t("div",Za,[oa(t("input",{type:"email",class:"form-control",id:"floatingInput",placeholder:"name@example.com","onUpdate:modelValue":r[0]||(r[0]=c=>n(u).email=c),required:""},null,512),[[ra,n(u).email]]),ae]),t("div",ee,[oa(t("input",{type:"password",class:"form-control",id:"floatingPassword",placeholder:"Password","onUpdate:modelValue":r[1]||(r[1]=c=>n(u).password=c),required:""},null,512),[[ra,n(u).password]]),te]),ne],40,Xa)])])])]))}},se={class:"navbar sticky-top navbar-expand-lg navbar-dark bg-dark"},oe={class:"container"},re=t("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarTogglerDemo01","aria-controls":"navbarTogglerDemo01","aria-expanded":"false","aria-label":"Toggle navigation"},[t("span",{class:"navbar-toggler-icon"})],-1),ue={class:"collapse navbar-collapse",id:"navbarTogglerDemo01"},de={class:"navbar-nav me-auto mb-2 mb-lg-0"},ie={class:"nav-item"},ce=ha("Alat"),me={class:"nav-item"},he=ha("Bahan Padat"),_e=ha("Bahan Cair"),ge={key:1,class:"btn btn-danger",href:"login"},pe={class:"container"},fe={class:"main-wrapper"},be={setup(m){const h=Pa(),l=$(!1);let u;da(()=>{u=R(),ua(u,d=>{d?l.value=!0:l.value=!1})});const i=()=>{Ua(u).then(()=>{h.push({name:"/"})})};return(d,r)=>{const c=ma("router-link"),_=ma("router-view");return f(),v(I,null,[t("nav",se,[t("div",oe,[re,t("div",ue,[t("ul",de,[t("li",ie,[o(c,{to:"/",class:"nav-link","exact-active-class":"active"},{default:A(()=>[ce]),_:1})]),t("li",me,[o(c,{to:"/daftar-bahan-padat",class:"nav-link","exact-active-class":"active"},{default:A(()=>[he]),_:1})]),t("li",null,[o(c,{to:"/daftar-bahan-cair",class:"nav-link","exact-active-class":"active"},{default:A(()=>[_e]),_:1})])]),l.value?(f(),v("button",{key:0,class:"btn btn-danger",onClick:i},"Log out")):(f(),v("a",ge,"Log in"))])])]),t("div",pe,[t("div",fe,[o(_)])])],64)}}};var La=(m,h)=>{const l=m.__vccOpts||m;for(const[u,i]of h)l[u]=i;return l};const w={props:{btn_name:{type:String,default:""},btn_class:{type:String,default:""}},emits:["onClick"],setup(m,{emit:h}){return(l,u)=>(f(),v("button",{class:ia(m.btn_class),type:"button",onClick:u[0]||(u[0]=i=>h("onClick"))},B(m.btn_name),3))}};const ve={class:"table-responsive"},ke={class:"table table-striped"},ye=["id"],Be={class:"konsentrasi"},we={key:0},$e={props:{cols:{type:Array,default:[]},rows:{type:Array,default:[]},button_delete_func:{type:Function},button_info_func:{type:Function},hide_func:{type:Boolean}},setup(m){return(h,l)=>(f(),v("div",ve,[t("table",ke,[t("thead",null,[t("tr",null,[(f(!0),v(I,null,Y(m.cols,(u,i)=>(f(),v("th",{key:i},B(u),1))),128))])]),t("tbody",null,[(f(!0),v(I,null,Y(m.rows,(u,i)=>(f(),v("tr",{key:i,id:i},[t("td",null,B(i+1),1),t("td",null,B(u.nama_alat),1),t("td",Be,B(u.konsentrasi),1),t("td",null,B(u.stok_alat),1),t("td",null,[o(w,{type:"button",btn_name:"Info Detail",btn_class:"btn btn-warning",id:"info-"+i,onOnClick:d=>m.button_info_func(u.id_alat)},null,8,["id","onOnClick"])]),m.hide_func?(f(),v("td",we,[o(w,{type:"button",btn_name:"Hapus",btn_class:"btn btn-danger",id:"hapus-"+i,onOnClick:d=>m.button_delete_func(u.id_alat)},null,8,["id","onOnClick"])])):U("",!0)],8,ye))),128))])])]))}};var Da=La($e,[["__scopeId","data-v-033714be"]]);const Ve=["id"],De={class:"offcanvas-header"},je={id:"offcanvasRightLabel"},xe=t("button",{type:"button",class:"btn-close text-reset","data-bs-dismiss":"offcanvas","aria-label":"Close"},null,-1),Ae={class:"offcanvas-body"},K={props:{offcanvas_title:{type:String,default:""},offcanvas_id:{type:String,default:""}},setup(m){return(h,l)=>(f(),v("div",{class:"offcanvas offcanvas-end",tabindex:"-1",id:m.offcanvas_id},[t("div",De,[t("h5",je,B(m.offcanvas_title),1),xe]),t("div",Ae,[Sa(h.$slots,"default")])],8,Ve))}},Ce={class:"form-floating mb-3"},Pe=["placeholder","value","required"],Se={for:"floatingInput"},ja={props:{label_name:{type:String,default:""},placeholder_text:{type:String,default:""},modelValue:{type:String},required:{type:String}},emits:["update:modelValue"],setup(m,{emit:h}){const l=m,u=i=>h("update:modelValue",i);return(i,d)=>(f(),v("div",Ce,[t("input",{type:"text",class:"form-control",id:"floatingInput",placeholder:m.placeholder_text,value:l.modelValue,onInput:d[0]||(d[0]=r=>u(r.target.value)),required:m.required},null,40,Pe),t("label",Se,B(m.label_name),1)]))}},Le={class:"form-floating mb-3"},Oe=["placeholder","value","required"],Te={for:"floatingInput"},q={props:{label_name:{type:String,default:""},placeholder_text:{type:String,default:""},modelValue:{type:Number,default:0},required:{type:String}},emits:["update:modelValue"],setup(m,{emit:h}){const l=m,u=d=>{let r=d.keyCode;(r<48||r>57)&&d.preventDefault()},i=d=>h("update:modelValue",d==""||d==null?0:d);return(d,r)=>(f(),v("div",Le,[t("input",{type:"text",class:"form-control",id:"floatingInput",placeholder:m.placeholder_text,maxlength:10,value:l.modelValue,onKeypress:r[0]||(r[0]=c=>u(c)),onInput:r[1]||(r[1]=c=>i(c.target.value)),required:m.required},null,40,Oe),t("label",Te,B(m.label_name),1)]))}},Ee={class:"form-floating"},Ie=["value","placeholder","required"],Ue={for:"floatingTextarea"},J={props:{label_name:{type:String,default:""},placeholder_text:{type:String,default:""},modelValue:{type:String},required:{type:Boolean}},emits:["update:modelValue"],setup(m,{emit:h}){const l=m,u=i=>h("update:modelValue",i);return(i,d)=>(f(),v("div",Ee,[t("textarea",{class:"form-control",value:l.modelValue,placeholder:m.placeholder_text,id:"floatingTextarea",onInput:d[0]||(d[0]=r=>u(r.target.value)),required:m.required},null,40,Ie),t("label",Ue,B(m.label_name),1)]))}},Me=["value"],xa={props:{selected:{type:Number},options:{type:Array}},emits:["update:selected"],setup(m,{emit:h}){return(l,u)=>(f(),v("select",{class:"form-select",onChange:u[0]||(u[0]=i=>h("update:selected",i.target.value)),value:m.selected},[(f(!0),v(I,null,Y(m.options,(i,d)=>(f(),v("option",{key:d},B(i),1))),128))],40,Me))}};const qe=["id"],Re={class:"modal-dialog modal-lg"},Ne={class:"modal-content"},Ke={class:"modal-header"},Je={class:"modal-title"},He=t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),ze={class:"modal-body"},Aa={props:{modal_title:{type:String},modal_id:{type:String}},setup(m){return(h,l)=>(f(),v("div",{class:"modal",tabindex:"-1",id:m.modal_id},[t("div",Re,[t("div",Ne,[t("div",Ke,[t("h5",Je,B(m.modal_title),1),He]),t("div",ze,[Sa(h.$slots,"default")])])])],8,qe))}};const Fe={apiKey:"AIzaSyCT4QIgdp-qEyKeImIKvpgacUgPzocNI-E",authDomain:"unimuslab.firebaseapp.com",projectId:"unimuslab",storageBucket:"unimuslab.appspot.com",messagingSenderId:"151603669601",appId:"1:151603669601:web:085f3464fbd9744787d820"};var Ca=Ma(Fe);const Ye={class:"row"},Qe={class:"col-4"},We={class:"d-flex"},Ge={class:"col-8"},Xe=t("br",null,null,-1),Ze={key:0},at={class:"row g-3 align-items-center"},et=t("div",{class:"col-auto"},[t("label",{class:"bold"},"Show :")],-1),tt={class:"col-auto"},nt={class:"d-flex justify-content-center"},lt={key:1},st=t("div",{class:"alert alert-secondary text-center"},"Tidak ada data...",-1),ot=[st],rt=["onSubmit"],ut=t("br",null,null,-1),dt={class:"button-group-wrapper"},it=["onSubmit"],ct=t("label",null,"Nama alat :",-1),mt=t("br",null,null,-1),ht=t("br",null,null,-1),_t={class:"button-group-wrapper"},gt=["onSubmit"],pt=t("label",null,"Nama alat :",-1),ft=t("br",null,null,-1),bt=t("br",null,null,-1),vt={class:"button-group-wrapper"},kt={class:"table"},yt=t("thead",null,[t("tr",null,[t("th",null,"Status"),t("th",null,"Tanggal"),t("th",null,"Penginput"),t("th",null,"Keterangan"),t("th",null,"Jumlah")])],-1),Bt=["id"],wt=t("td",{colspan:"4",class:"text-center"},"TOTAL JUMLAH STOK",-1),$t={setup(m){const h=$();let l=x({data:[],page:1,currentPage:1,currentEntries:10,showEntries:[10,25,50]}),u=$(""),i=$([]);$(!0),$(!1);const d=$(!1);let r=x({nama:"",jumlah:0,keterangan:""}),c=x({id:"",jumlah:0,keterangan:""}),_=x({id:"",jumlah:0,keterangan:""}),V=x({data:[],total:0});$(null);const P=R().currentUser,D=_a(Ca),H=ga(D,"DaftarAlat");da(()=>{j(),ua(R(),g=>{g?(d.value=!0,i.value=["No.","Nama Alat","","Jumlah Stok","Rekap Alat","Hapus alat"]):(d.value=!1,i.value=["No.","Nama Alat","","Jumlah Stok","Rekap Alat"])});let s=new Date;const a=new Date(s.getFullYear(),s.getMonth(),1),e=new Date(s.getFullYear(),s.getMonth()+1,0);h.value=[a,e]});const T=s=>{var a=document.getElementById(s),e=new S(a);e.show()},X=()=>z,Z=N(()=>{var s=V.data.filter(a=>{var e=new Date(a.tanggal);return e>=h.value[0]&&e<=h.value[1]});return s}),z=N(()=>{let s=l.data.filter(g=>g.nama_alat.toLowerCase().indexOf(u.value.toLowerCase())!=-1),a=l.currentEntries,e=aa(s,a);return s.length%a>=1?l.page=Math.floor(s.length/a)+1:l.page=Math.floor(s.length/a),e[l.currentPage-1]}),F=N(()=>{const s=[];return l.data.map(a=>{let e=Object.create({});e.value=a.id_alat,e.label=a.nama_alat,s.push(e)}),s}),j=async()=>{await pa(fa(H,ba("nama"))).then(s=>{s.docs.forEach(a=>{const e=a.data().PengadaanAlat.reduce((b,y)=>y.jumlah_alat>0?b+=y.jumlah_alat:b,0),g=a.data().AlatRusak.reduce((b,y)=>y.jumlah_rusak>0?b+=y.jumlah_rusak:b,0);let k=e-g;k=k>=0?k:0,l.data.push({id_alat:a.id,nama_alat:a.data(0).nama,stok_alat:k}),l.data.length%l.currentEntries>=1?l.page=Math.floor(l.data.length/l.currentEntries)+1:l.page=Math.floor(l.data.length/l.currentEntries)})})},aa=(s,a)=>s.reduce((e,g,k)=>{let b=Math.floor(k/a);return(e[b]||(e[b]=[])).push(g),e},[]),ea=async()=>{await Ba(H,{nama:r.nama,PengadaanAlat:[{jumlah_alat:r.jumlah,tanggal_pengadaan_alat:L.now(),keterangan:r.keterangan,di_input_oleh:P.email}],AlatRusak:[{jumlah_rusak:_.jumlah,tanggal_laporan_rusak:L.now(),keterangan:_.keterangan,di_input_oleh:P.email}]}).then(()=>{l.data=[],j(),r.nama="",r.jumlah=0,r.keterangan=""}).then(()=>{C.fire({icon:"success",title:"Data yang anda masukkan, berhasil di simpan.",showConfirmButton:!1,timer:1500});var s=document.getElementById("offcanvas-tambah-alat"),a=S.getInstance(s);a.hide()})},ta=async s=>{C.fire({title:"Apakah kamu yakin ingin mengahapus data tersebut?",text:"Data yang terhapus tidak dapat di kembalikan.",showCancelButton:!0,confirmButtonColor:"#dc3545",confirmButtonText:"Hapus",cancelButtonText:"Batal",allowOutsideClick:!1,showCloseButton:!0,reverseButtons:!0}).then(a=>{a.isConfirmed&&wa(O(D,"DaftarAlat",s)).then(()=>{l.data=[],j()}).then(()=>{C.fire({icon:"success",title:"Data terhapus!",text:"Data yang terhapus tidak dapat di kembalikan.",confirmButtonColor:"#198754",confirmButtonText:"Okay",showCloseButton:!0})})})},na=async()=>{await W(O(D,"DaftarAlat",c.id),{PengadaanAlat:G({jumlah_alat:c.jumlah,tanggal_pengadaan_alat:L.now(),keterangan:c.keterangan,di_input_oleh:P.email})}).then(()=>{l.data=[],j(),c.id="",c.jumlah=0,c.keterangan=""}).then(()=>{C.fire({icon:"success",title:"Data yang anda masukkan, berhasil di simpan.",showConfirmButton:!1,timer:1500});var s=document.getElementById("offcanvas-pengadaan-alat"),a=S.getInstance(s);a.hide()})},la=async()=>{await W(O(D,"DaftarAlat",_.id),{AlatRusak:G({jumlah_rusak:_.jumlah,tanggal_laporan_rusak:L.now(),keterangan:_.keterangan,di_input_oleh:P.email})}).then(()=>{l.data=[],j(),_.id="",_.jumlah=0,_.keterangan=""}).then(()=>{C.fire({icon:"success",title:"Data yang anda masukkan, berhasil di simpan.",showConfirmButton:!1,timer:1500});var s=document.getElementById("offcanvas-lapor-alat-rusak"),a=S.getInstance(s);a.hide()})},sa=async s=>{V.data=[];var a=new $a(document.getElementById("modal-info-detail"),{keyboard:!1});await Va(O(D,"DaftarAlat",s)).then(e=>{let g=e.data().AlatRusak,k=e.data().PengadaanAlat,b=g.concat(k),y=0;b.forEach(p=>{(p.jumlah_alat>0||p.jumlah_rusak>0)&&(V.data.push({status:p.tanggal_pengadaan_alat!=null?"Pengadaan Alat":p.tanggal_laporan_rusak!=null?"Laporan Alat Rusak":"",tanggal:p.tanggal_pengadaan_alat!=null?p.tanggal_pengadaan_alat.toDate().toLocaleString():p.tanggal_laporan_rusak!=null?p.tanggal_laporan_rusak.toDate().toLocaleString():"",penginput:p.di_input_oleh,jumlah:p.jumlah_alat>0?p.jumlah_alat:p.jumlah_rusak,keterangan:p.keterangan}),p.tanggal_pengadaan_alat!=null?y+=p.jumlah_alat:y-=p.jumlah_rusak)}),V.total=y}).then(()=>{a.show(a),V.data.sort(function(e,g){var k=new Date(e.tanggal),b=new Date(g.tanggal);return k-b})})};return(s,a)=>(f(),v(I,null,[t("div",Ye,[t("div",Qe,[t("div",We,[oa(t("input",{class:"form-control",type:"search",placeholder:"Tulis nama alat","aria-label":"Search","onUpdate:modelValue":a[0]||(a[0]=e=>va(u)?u.value=e:u=e)},null,512),[[ra,n(u),void 0,{trim:!0}]])])]),t("div",Ge,[d.value?(f(),M(w,{key:0,btn_class:"btn btn-outline-warning float-md-end",btn_name:"Lapor Alat Rusak",onClick:a[1]||(a[1]=e=>T("offcanvas-lapor-alat-rusak"))})):U("",!0),d.value?(f(),M(w,{key:1,btn_class:"btn btn-outline-success float-md-end mx-4",btn_name:"Pengadaan Alat",onClick:a[2]||(a[2]=e=>T("offcanvas-pengadaan-alat"))})):U("",!0),d.value?(f(),M(w,{key:2,btn_class:"btn btn-success float-md-end",btn_name:"Tambah Alat Baru",onClick:a[3]||(a[3]=e=>T("offcanvas-tambah-alat"))})):U("",!0)])]),Xe,n(l).data.length>0?(f(),v("div",Ze,[t("div",at,[et,t("div",tt,[o(xa,{options:n(l).showEntries,selected:n(l).currentEntries,"onUpdate:selected":a[4]||(a[4]=e=>n(l).currentEntries=e),selectedModifiers:{number:!0},onChange:X},null,8,["options","selected"])])]),o(Da,{cols:n(i),rows:n(z),button_delete_func:ta,button_info_func:sa,hide_func:d.value},null,8,["cols","rows","hide_func"]),t("div",nt,[o(n(ka),{modelValue:n(l).currentPage,"onUpdate:modelValue":a[5]||(a[5]=e=>n(l).currentPage=e),pages:n(l).page,"range-size":n(l).currentPage},null,8,["modelValue","pages","range-size"])])])):(f(),v("div",lt,ot)),o(K,{offcanvas_title:"Tambah Alat Baru",offcanvas_id:"offcanvas-tambah-alat"},{default:A(()=>[t("form",{onSubmit:E(ea,["prevent"])},[o(ja,{label_name:"Nama Alat",placeholder_text:"Nama Alat",modelValue:n(r).nama,"onUpdate:modelValue":a[6]||(a[6]=e=>n(r).nama=e),required:"required"},null,8,["modelValue"]),o(q,{label_name:"Jumlah Alat",placeholder_text:"Jumlah Alat",modelValue:n(r).jumlah,"onUpdate:modelValue":a[7]||(a[7]=e=>n(r).jumlah=e),modelModifiers:{number:!0},required:"required"},null,8,["modelValue"]),o(J,{label_name:"Keterangan",placeholder_text:"Keterangan",modelValue:n(r).keterangan,"onUpdate:modelValue":a[8]||(a[8]=e=>n(r).keterangan=e)},null,8,["modelValue"]),ut,t("div",dt,[o(w,{type:"submit",btn_name:"Tambah",btn_class:"btn btn-success"}),o(w,{type:"button",btn_name:"Batal",btn_class:"btn btn-outline-secondary","data-bs-dismiss":"offcanvas","aria-label":"Close"})])],40,rt)]),_:1}),o(K,{offcanvas_title:"Pengadaan Alat",offcanvas_id:"offcanvas-pengadaan-alat"},{default:A(()=>[t("form",{onSubmit:E(na,["prevent"])},[ct,o(n(Q),{modelValue:n(c).id,"onUpdate:modelValue":a[9]||(a[9]=e=>n(c).id=e),searchable:!0,options:n(F),placeholder:"Masukkan nama alat...",required:!0},null,8,["modelValue","options"]),mt,o(q,{label_name:"Jumlah Pengadaan Alat",placeholder_text:"Jumlah Pengadaan Alat",modelValue:n(c).jumlah,"onUpdate:modelValue":a[10]||(a[10]=e=>n(c).jumlah=e),modelModifiers:{number:!0},required:"required"},null,8,["modelValue"]),o(J,{label_name:"Keterangan",placeholder_text:"Keterangan",modelValue:n(c).keterangan,"onUpdate:modelValue":a[11]||(a[11]=e=>n(c).keterangan=e)},null,8,["modelValue"]),ht,t("div",_t,[o(w,{type:"submit",btn_name:"Tambah",btn_class:"btn btn-success"}),o(w,{type:"button",btn_name:"Batal",btn_class:"btn btn-outline-secondary","data-bs-dismiss":"offcanvas","aria-label":"Close"})])],40,it)]),_:1}),o(K,{offcanvas_title:"Lapor Alat Rusak",offcanvas_id:"offcanvas-lapor-alat-rusak"},{default:A(()=>[t("form",{onSubmit:E(la,["prevent"])},[pt,o(n(Q),{modelValue:n(_).id,"onUpdate:modelValue":a[12]||(a[12]=e=>n(_).id=e),searchable:!0,options:n(F),placeholder:"Masukkan nama alat...",required:!0},null,8,["modelValue","options"]),ft,o(q,{label_name:"Jumlah Pengadaan Alat",placeholder_text:"Jumlah Pengadaan Alat",modelValue:n(_).jumlah,"onUpdate:modelValue":a[13]||(a[13]=e=>n(_).jumlah=e),modelModifiers:{number:!0},required:"required"},null,8,["modelValue"]),o(J,{label_name:"Keterangan",placeholder_text:"Keterangan",modelValue:n(_).keterangan,"onUpdate:modelValue":a[14]||(a[14]=e=>n(_).keterangan=e)},null,8,["modelValue"]),bt,t("div",vt,[o(w,{type:"submit",btn_name:"Lapor",btn_class:"btn btn-warning"}),o(w,{type:"button",btn_name:"Batal",btn_class:"btn btn-outline-secondary","data-bs-dismiss":"offcanvas","aria-label":"Close"})])],40,gt)]),_:1}),o(Aa,{modal_title:"Info Detail",modal_id:"modal-info-detail"},{default:A(()=>[o(n(ya),{modelValue:h.value,"onUpdate:modelValue":a[15]||(a[15]=e=>h.value=e),placeholder:"klik untuk memilih tanggal",autoApply:"",range:"",class:"mb-4"},null,8,["modelValue"]),t("table",kt,[yt,t("tbody",null,[(f(!0),v(I,null,Y(n(Z),(e,g)=>(f(),v("tr",{key:g,id:g,class:ia(e.status.toLowerCase().replace(/\s+/g,"")=="laporanalatrusak"?"table-warning":"table-success")},[t("td",null,B(e.status),1),t("td",null,B(e.tanggal),1),t("td",null,B(e.penginput),1),t("td",null,B(e.keterangan),1),t("td",null,B(e.jumlah),1)],10,Bt))),128)),t("tr",null,[wt,t("td",null,[t("b",null,B(n(V).total),1)])])])])]),_:1})],64))}};const Vt={class:"row"},Dt={class:"col-3"},jt={class:"d-flex"},xt={class:"col-9"},At=t("br",null,null,-1),Ct={key:0},Pt={class:"row g-3 align-items-center"},St=t("div",{class:"col-auto"},[t("label",{class:"bold"},"Show :")],-1),Lt={class:"col-auto"},Ot={class:"d-flex justify-content-center"},Tt={key:1},Et=t("div",{class:"alert alert-secondary text-center"},"Tidak ada data...",-1),It=[Et],Ut=["onSubmit"],Mt=t("br",null,null,-1),qt={class:"button-group-wrapper"},Rt=["onSubmit"],Nt=t("label",null,"Nama Bahan :",-1),Kt=t("br",null,null,-1),Jt=t("br",null,null,-1),Ht={class:"button-group-wrapper"},zt=["onSubmit"],Ft=t("label",null,"Nama Bahan :",-1),Yt=t("br",null,null,-1),Qt=t("br",null,null,-1),Wt={class:"button-group-wrapper"},Gt={class:"table"},Xt=t("thead",null,[t("tr",null,[t("th",null,"Status"),t("th",null,"Tanggal"),t("th",null,"Penginput"),t("th",null,"Keterangan"),t("th",null,"Jumlah")])],-1),Zt=["id"],an=t("td",{colspan:"4",class:"text-center"},"TOTAL JUMLAH STOK (gram)",-1),en={setup(m){const h=$();let l=x({data:[],page:1,currentPage:1,currentEntries:10,showEntries:[10,25,50]}),u=$(""),i=$([]);$(!0),$(!1);const d=$(!1);let r=x({nama:"",jumlah:0,keterangan:""}),c=x({id:"",jumlah:0,keterangan:""}),_=x({id:"",jumlah:0,keterangan:""}),V=x({data:[],total:0});$(null);const P=R().currentUser,D=_a(Ca),H=ga(D,"DaftarBahanPadat");da(()=>{j(),ua(R(),g=>{g?(d.value=!0,i.value=["No.","Nama Bahan","","Jumlah Stok (gram)","Rekap Barang","Hapus bahan"]):(d.value=!1,i.value=["No.","Nama Bahan","","Jumlah Stok (gram)","Rekap Barang"])});let s=new Date;const a=new Date(s.getFullYear(),s.getMonth(),1),e=new Date(s.getFullYear(),s.getMonth()+1,0);h.value=[a,e]});const T=s=>{var a=document.getElementById(s),e=new S(a);e.show()},X=()=>z,Z=N(()=>{var s=V.data.filter(a=>{var e=new Date(a.tanggal);return e>=h.value[0]&&e<=h.value[1]});return s}),z=N(()=>{let s=l.data.filter(g=>g.nama_alat.toLowerCase().indexOf(u.value.toLowerCase())!=-1),a=l.currentEntries,e=aa(s,a);return s.length%a>=1?l.page=Math.floor(s.length/a)+1:l.page=Math.floor(s.length/a),e[l.currentPage-1]}),F=N(()=>{const s=[];return l.data.map(a=>{let e=Object.create({});e.value=a.id_alat,e.label=a.nama_alat,s.push(e)}),s}),j=async()=>{await pa(fa(H,ba("nama_bahan"))).then(s=>{s.docs.forEach(a=>{const e=a.data().PengadaanBahan.reduce((b,y)=>y.jumlah_bahan>0?b+=y.jumlah_bahan:b,0),g=a.data().BahanRusak.reduce((b,y)=>y.jumlah_bahan>0?b+=y.jumlah_bahan:b,0);let k=e-g;k=k>=0?k:0,l.data.push({id_alat:a.id,nama_alat:a.data(0).nama_bahan,stok_alat:k}),l.data.length%l.currentEntries>=1?l.page=Math.floor(l.data.length/l.currentEntries)+1:l.page=Math.floor(l.data.length/l.currentEntries)})})},aa=(s,a)=>s.reduce((e,g,k)=>{let b=Math.floor(k/a);return(e[b]||(e[b]=[])).push(g),e},[]),ea=async()=>{await Ba(H,{nama_bahan:r.nama,PengadaanBahan:[{jumlah_bahan:r.jumlah,tanggal_pengadaan_bahan:L.now(),keterangan:r.keterangan,di_input_oleh:P.email}],BahanRusak:[{jumlah_bahan:_.jumlah,tanggal_laporan_bahan:L.now(),keterangan:_.keterangan,di_input_oleh:P.email}]}).then(()=>{l.data=[],j(),r.nama="",r.jumlah=0,r.keterangan=""}).then(()=>{C.fire({icon:"success",title:"Data yang anda masukkan, berhasil di simpan.",showConfirmButton:!1,timer:1500});var s=document.getElementById("offcanvas-tambah-bahan"),a=S.getInstance(s);a.hide()})},ta=async s=>{C.fire({title:"Apakah kamu yakin ingin mengahapus data tersebut?",text:"Data yang terhapus tidak dapat di kembalikan.",showCancelButton:!0,confirmButtonColor:"#dc3545",confirmButtonText:"Hapus",cancelButtonText:"Batal",allowOutsideClick:!1,showCloseButton:!0,reverseButtons:!0}).then(a=>{a.isConfirmed&&wa(O(D,"DaftarBahanPadat",s)).then(()=>{l.data=[],j()}).then(()=>{C.fire({icon:"success",title:"Data terhapus!",text:"Data yang terhapus tidak dapat di kembalikan.",confirmButtonColor:"#198754",confirmButtonText:"Okay",showCloseButton:!0})})})},na=async()=>{await W(O(D,"DaftarBahanPadat",c.id),{PengadaanBahan:G({jumlah_bahan:c.jumlah,tanggal_pengadaan_bahan:L.now(),keterangan:c.keterangan,di_input_oleh:P.email})}).then(()=>{l.data=[],j(),c.id="",c.jumlah=0,c.keterangan=""}).then(()=>{C.fire({icon:"success",title:"Data yang anda masukkan, berhasil di simpan.",showConfirmButton:!1,timer:1500});var s=document.getElementById("offcanvas-pengadaan-alat"),a=S.getInstance(s);a.hide()})},la=async()=>{await W(O(D,"DaftarBahanPadat",_.id),{BahanRusak:G({jumlah_bahan:_.jumlah,tanggal_laporan_bahan:L.now(),keterangan:_.keterangan,di_input_oleh:P.email})}).then(()=>{l.data=[],j(),_.id="",_.jumlah=0,_.keterangan=""}).then(()=>{C.fire({icon:"success",title:"Data yang anda masukkan, berhasil di simpan.",showConfirmButton:!1,timer:1500});var s=document.getElementById("offcanvas-lapor-alat-rusak"),a=S.getInstance(s);a.hide()})},sa=async s=>{V.data=[];var a=new $a(document.getElementById("modal-info-detail"),{keyboard:!1});await Va(O(D,"DaftarBahanPadat",s)).then(e=>{let g=e.data().BahanRusak,k=e.data().PengadaanBahan,b=g.concat(k),y=0;b.forEach(p=>{p.jumlah_bahan>0&&(V.data.push({status:p.tanggal_pengadaan_bahan!=null?"Pengadaan Bahan":p.tanggal_laporan_bahan!=null?"Laporan Bahan Rusak":"",tanggal:p.tanggal_pengadaan_bahan!=null?p.tanggal_pengadaan_bahan.toDate().toLocaleString():p.tanggal_laporan_bahan!=null?p.tanggal_laporan_bahan.toDate().toLocaleString():"",penginput:p.di_input_oleh,jumlah:p.jumlah_bahan,keterangan:p.keterangan}),p.tanggal_pengadaan_bahan!=null?y+=p.jumlah_bahan:y-=p.jumlah_bahan)}),V.total=y}).then(()=>{a.show(a),V.data.sort(function(e,g){var k=new Date(e.tanggal),b=new Date(g.tanggal);return k-b})})};return(s,a)=>(f(),v(I,null,[t("div",Vt,[t("div",Dt,[t("div",jt,[oa(t("input",{class:"form-control me-2",type:"search",placeholder:"Tulis nama bahan padat","aria-label":"Search","onUpdate:modelValue":a[0]||(a[0]=e=>va(u)?u.value=e:u=e)},null,512),[[ra,n(u),void 0,{trim:!0}]])])]),t("div",xt,[d.value?(f(),M(w,{key:0,btn_class:"btn btn-outline-warning float-md-end",btn_name:"Lapor Bahan Rusak",onClick:a[1]||(a[1]=e=>T("offcanvas-lapor-alat-rusak"))})):U("",!0),d.value?(f(),M(w,{key:1,btn_class:"btn btn-outline-success float-md-end mx-4",btn_name:"Pengadaan Bahan",onClick:a[2]||(a[2]=e=>T("offcanvas-pengadaan-alat"))})):U("",!0),d.value?(f(),M(w,{key:2,btn_class:"btn btn-success float-md-end",btn_name:"Tambah Bahan Baru",onClick:a[3]||(a[3]=e=>T("offcanvas-tambah-bahan"))})):U("",!0)])]),At,n(l).data.length>0?(f(),v("div",Ct,[t("div",Pt,[St,t("div",Lt,[o(xa,{options:n(l).showEntries,selected:n(l).currentEntries,"onUpdate:selected":a[4]||(a[4]=e=>n(l).currentEntries=e),selectedModifiers:{number:!0},onChange:X},null,8,["options","selected"])])]),o(Da,{cols:n(i),rows:n(z),button_delete_func:ta,button_info_func:sa,hide_func:d.value},null,8,["cols","rows","hide_func"]),t("div",Ot,[o(n(ka),{modelValue:n(l).currentPage,"onUpdate:modelValue":a[5]||(a[5]=e=>n(l).currentPage=e),pages:n(l).page,"range-size":n(l).currentPage},null,8,["modelValue","pages","range-size"])])])):(f(),v("div",Tt,It)),o(K,{offcanvas_title:"Tambah Bahan Padat",offcanvas_id:"offcanvas-tambah-bahan"},{default:A(()=>[t("form",{onSubmit:E(ea,["prevent"])},[o(ja,{label_name:"Nama Bahan",placeholder_text:"Nama Bahan",modelValue:n(r).nama,"onUpdate:modelValue":a[6]||(a[6]=e=>n(r).nama=e),required:"required"},null,8,["modelValue"]),o(q,{label_name:"Jumlah Bahan (gram)",placeholder_text:"Jumlah Bahan (gram)",modelValue:n(r).jumlah,"onUpdate:modelValue":a[7]||(a[7]=e=>n(r).jumlah=e),modelModifiers:{number:!0},required:"required"},null,8,["modelValue"]),o(J,{label_name:"Keterangan",placeholder_text:"Keterangan",modelValue:n(r).keterangan,"onUpdate:modelValue":a[8]||(a[8]=e=>n(r).keterangan=e)},null,8,["modelValue"]),Mt,t("div",qt,[o(w,{type:"submit",btn_name:"Tambah",btn_class:"btn btn-success"}),o(w,{type:"button",btn_name:"Batal",btn_class:"btn btn-outline-secondary","data-bs-dismiss":"offcanvas","aria-label":"Close"})])],40,Ut)]),_:1}),o(K,{offcanvas_title:"Pengadaan Bahan Padat",offcanvas_id:"offcanvas-pengadaan-alat"},{default:A(()=>[t("form",{onSubmit:E(na,["prevent"])},[Nt,o(n(Q),{modelValue:n(c).id,"onUpdate:modelValue":a[9]||(a[9]=e=>n(c).id=e),searchable:!0,options:n(F),placeholder:"Masukkan nama bahan...",required:!0},null,8,["modelValue","options"]),Kt,o(q,{label_name:"Jumlah Pengadaan Bahan",placeholder_text:"Jumlah Pengadaan Bahan",modelValue:n(c).jumlah,"onUpdate:modelValue":a[10]||(a[10]=e=>n(c).jumlah=e),modelModifiers:{number:!0},required:"required"},null,8,["modelValue"]),o(J,{label_name:"Keterangan",placeholder_text:"Keterangan",modelValue:n(c).keterangan,"onUpdate:modelValue":a[11]||(a[11]=e=>n(c).keterangan=e)},null,8,["modelValue"]),Jt,t("div",Ht,[o(w,{type:"submit",btn_name:"Tambah",btn_class:"btn btn-success"}),o(w,{type:"button",btn_name:"Batal",btn_class:"btn btn-outline-secondary","data-bs-dismiss":"offcanvas","aria-label":"Close"})])],40,Rt)]),_:1}),o(K,{offcanvas_title:"Lapor Bahan Padat Rusak",offcanvas_id:"offcanvas-lapor-alat-rusak"},{default:A(()=>[t("form",{onSubmit:E(la,["prevent"])},[Ft,o(n(Q),{modelValue:n(_).id,"onUpdate:modelValue":a[12]||(a[12]=e=>n(_).id=e),searchable:!0,options:n(F),placeholder:"Masukkan nama bahan...",required:!0},null,8,["modelValue","options"]),Yt,o(q,{label_name:"Jumlah Pengadaan Bahan",placeholder_text:"Jumlah Pengadaan Bahan",modelValue:n(_).jumlah,"onUpdate:modelValue":a[13]||(a[13]=e=>n(_).jumlah=e),modelModifiers:{number:!0},required:"required"},null,8,["modelValue"]),o(J,{label_name:"Keterangan",placeholder_text:"Keterangan",modelValue:n(_).keterangan,"onUpdate:modelValue":a[14]||(a[14]=e=>n(_).keterangan=e)},null,8,["modelValue"]),Qt,t("div",Wt,[o(w,{type:"submit",btn_name:"Lapor",btn_class:"btn btn-warning"}),o(w,{type:"button",btn_name:"Batal",btn_class:"btn btn-outline-secondary","data-bs-dismiss":"offcanvas","aria-label":"Close"})])],40,zt)]),_:1}),o(Aa,{modal_title:"Info Detail",modal_id:"modal-info-detail"},{default:A(()=>[o(n(ya),{modelValue:h.value,"onUpdate:modelValue":a[15]||(a[15]=e=>h.value=e),placeholder:"klik untuk memilih tanggal",autoApply:"",range:"",class:"mb-4"},null,8,["modelValue"]),t("table",Gt,[Xt,t("tbody",null,[(f(!0),v(I,null,Y(n(Z),(e,g)=>(f(),v("tr",{key:g,id:g,class:ia(e.status.toLowerCase().replace(/\s+/g,"")=="laporanbahanrusak"?"table-warning":"table-success")},[t("td",null,B(e.status),1),t("td",null,B(e.tanggal),1),t("td",null,B(e.penginput),1),t("td",null,B(e.keterangan),1),t("td",null,B(e.jumlah),1)],10,Zt))),128)),t("tr",null,[an,t("td",null,[t("b",null,B(n(V).total),1)])])])])]),_:1})],64))}};const tn={class:"row"},nn={class:"col-3"},ln={class:"d-flex"},sn={class:"col-9"},on=t("br",null,null,-1),rn={key:0},un={class:"row g-3 align-items-center"},dn=t("div",{class:"col-auto"},[t("label",{class:"bold"},"Show :")],-1),cn={class:"col-auto"},mn={class:"d-flex justify-content-center"},hn={key:1},_n=t("div",{class:"alert alert-secondary text-center"},"Tidak ada data...",-1),gn=[_n],pn=["onSubmit"],fn=t("br",null,null,-1),bn={class:"button-group-wrapper"},vn=["onSubmit"],kn=t("label",null,"Nama Bahan :",-1),yn=t("br",null,null,-1),Bn=t("br",null,null,-1),wn={class:"button-group-wrapper"},$n=["onSubmit"],Vn=t("label",null,"Nama Bahan :",-1),Dn=t("br",null,null,-1),jn=t("br",null,null,-1),xn={class:"button-group-wrapper"},An={class:"table"},Cn=t("thead",null,[t("tr",null,[t("th",null,"Status"),t("th",null,"Tanggal"),t("th",null,"Penginput"),t("th",null,"Keterangan"),t("th",null,"Jumlah")])],-1),Pn=["id"],Sn=t("td",{colspan:"4",class:"text-center"},"TOTAL JUMLAH STOK (liter)",-1),Ln={setup(m){const h=$();let l=x({data:[],page:1,currentPage:1,currentEntries:10,showEntries:[10,25,50]}),u=$(""),i=$([]);$(!0),$(!1);const d=$(!1);let r=x({nama:"",jumlah:0,konsentrasi:0,keterangan:""}),c=x({id:"",jumlah:0,keterangan:""}),_=x({id:"",jumlah:0,keterangan:""}),V=x({data:[],total:0});$(null);const P=R().currentUser,D=_a(Ca),H=ga(D,"DaftarBahanCair");da(()=>{j(),ua(R(),g=>{g?(d.value=!0,i.value=["No.","Nama Bahan","Konsentrasi (pH)","Jumlah Stok (liter)","Rekap Barang","Hapus bahan"]):(d.value=!1,i.value=["No.","Nama Bahan","Konsentrasi (pH)","Jumlah Stok (liter)","Rekap Barang"])});let s=new Date;const a=new Date(s.getFullYear(),s.getMonth(),1),e=new Date(s.getFullYear(),s.getMonth()+1,0);h.value=[a,e]});const T=s=>{var a=document.getElementById(s),e=new S(a);e.show()},X=()=>z,Z=N(()=>{var s=V.data.filter(a=>{var e=new Date(a.tanggal);return e>=h.value[0]&&e<=h.value[1]});return s}),z=N(()=>{let s=l.data.filter(g=>g.nama_alat.toLowerCase().indexOf(u.value.toLowerCase())!=-1),a=l.currentEntries,e=aa(s,a);return s.length%a>=1?l.page=Math.floor(s.length/a)+1:l.page=Math.floor(s.length/a),e[l.currentPage-1]}),F=N(()=>{const s=[];return l.data.map(a=>{let e=Object.create({});e.value=a.id_alat,e.label=a.nama_alat,s.push(e)}),s}),j=async()=>{await pa(fa(H,ba("nama_bahan"))).then(s=>{s.docs.forEach(a=>{const e=a.data().PengadaanBahan.reduce((b,y)=>y.jumlah_bahan>0?b+=y.jumlah_bahan:b,0),g=a.data().BahanRusak.reduce((b,y)=>y.jumlah_bahan>0?b+=y.jumlah_bahan:b,0);let k=e-g;k=k>=0?k:0,l.data.push({id_alat:a.id,nama_alat:a.data(0).nama_bahan,konsentrasi:a.data(0).konsentrasi,stok_alat:k}),l.data.length%l.currentEntries>=1?l.page=Math.floor(l.data.length/l.currentEntries)+1:l.page=Math.floor(l.data.length/l.currentEntries)})})},aa=(s,a)=>s.reduce((e,g,k)=>{let b=Math.floor(k/a);return(e[b]||(e[b]=[])).push(g),e},[]),ea=async()=>{await Ba(H,{nama_bahan:r.nama,konsentrasi:r.konsentrasi,PengadaanBahan:[{jumlah_bahan:r.jumlah,tanggal_pengadaan_bahan:L.now(),keterangan:r.keterangan,di_input_oleh:P.email}],BahanRusak:[{jumlah_bahan:_.jumlah,tanggal_laporan_bahan:L.now(),keterangan:_.keterangan,di_input_oleh:P.email}]}).then(()=>{l.data=[],j(),r.nama="",r.jumlah=0,r.konsentrasi=0,r.keterangan=""}).then(()=>{C.fire({icon:"success",title:"Data yang anda masukkan, berhasil di simpan.",showConfirmButton:!1,timer:1500});var s=document.getElementById("offcanvas-tambah-bahan"),a=S.getInstance(s);a.hide()})},ta=async s=>{C.fire({title:"Apakah kamu yakin ingin mengahapus data tersebut?",text:"Data yang terhapus tidak dapat di kembalikan.",showCancelButton:!0,confirmButtonColor:"#dc3545",confirmButtonText:"Hapus",cancelButtonText:"Batal",allowOutsideClick:!1,showCloseButton:!0,reverseButtons:!0}).then(a=>{a.isConfirmed&&wa(O(D,"DaftarBahanCair",s)).then(()=>{l.data=[],j()}).then(()=>{C.fire({icon:"success",title:"Data terhapus!",text:"Data yang terhapus tidak dapat di kembalikan.",confirmButtonColor:"#198754",confirmButtonText:"Okay",showCloseButton:!0})})})},na=async()=>{await W(O(D,"DaftarBahanCair",c.id),{PengadaanBahan:G({jumlah_bahan:c.jumlah,tanggal_pengadaan_bahan:L.now(),keterangan:c.keterangan,di_input_oleh:P.email})}).then(()=>{l.data=[],j(),c.id="",c.jumlah=0,c.keterangan=""}).then(()=>{C.fire({icon:"success",title:"Data yang anda masukkan, berhasil di simpan.",showConfirmButton:!1,timer:1500});var s=document.getElementById("offcanvas-pengadaan-alat"),a=S.getInstance(s);a.hide()})},la=async()=>{await W(O(D,"DaftarBahanCair",_.id),{BahanRusak:G({jumlah_bahan:_.jumlah,tanggal_laporan_bahan:L.now(),keterangan:_.keterangan,di_input_oleh:P.email})}).then(()=>{l.data=[],j(),_.id="",_.jumlah=0,_.keterangan=""}).then(()=>{C.fire({icon:"success",title:"Data yang anda masukkan, berhasil di simpan.",showConfirmButton:!1,timer:1500});var s=document.getElementById("offcanvas-lapor-alat-rusak"),a=S.getInstance(s);a.hide()})},sa=async s=>{V.data=[];var a=new $a(document.getElementById("modal-info-detail"),{keyboard:!1});await Va(O(D,"DaftarBahanCair",s)).then(e=>{let g=e.data().BahanRusak,k=e.data().PengadaanBahan,b=g.concat(k),y=0;b.forEach(p=>{p.jumlah_bahan>0&&(V.data.push({status:p.tanggal_pengadaan_bahan!=null?"Pengadaan Bahan":p.tanggal_laporan_bahan!=null?"Laporan Bahan Rusak":"",tanggal:p.tanggal_pengadaan_bahan!=null?p.tanggal_pengadaan_bahan.toDate().toLocaleString():p.tanggal_laporan_bahan!=null?p.tanggal_laporan_bahan.toDate().toLocaleString():"",penginput:p.di_input_oleh,jumlah:p.jumlah_bahan,keterangan:p.keterangan}),p.tanggal_pengadaan_bahan!=null?y+=p.jumlah_bahan:y-=p.jumlah_bahan)}),V.total=y}).then(()=>{a.show(a),V.data.sort(function(e,g){var k=new Date(e.tanggal),b=new Date(g.tanggal);return k-b})})};return(s,a)=>(f(),v(I,null,[t("div",tn,[t("div",nn,[t("div",ln,[oa(t("input",{class:"form-control me-2",type:"search",placeholder:"Tulis nama bahan cair","aria-label":"Search","onUpdate:modelValue":a[0]||(a[0]=e=>va(u)?u.value=e:u=e)},null,512),[[ra,n(u),void 0,{trim:!0}]])])]),t("div",sn,[d.value?(f(),M(w,{key:0,btn_class:"btn btn-outline-warning float-md-end",btn_name:"Lapor Bahan Rusak",onClick:a[1]||(a[1]=e=>T("offcanvas-lapor-alat-rusak"))})):U("",!0),d.value?(f(),M(w,{key:1,btn_class:"btn btn-outline-success float-md-end mx-4",btn_name:"Pengadaan Bahan",onClick:a[2]||(a[2]=e=>T("offcanvas-pengadaan-alat"))})):U("",!0),d.value?(f(),M(w,{key:2,btn_class:"btn btn-success float-md-end",btn_name:"Tambah Bahan Baru",onClick:a[3]||(a[3]=e=>T("offcanvas-tambah-bahan"))})):U("",!0)])]),on,n(l).data.length>0?(f(),v("div",rn,[t("div",un,[dn,t("div",cn,[o(xa,{options:n(l).showEntries,selected:n(l).currentEntries,"onUpdate:selected":a[4]||(a[4]=e=>n(l).currentEntries=e),selectedModifiers:{number:!0},onChange:X},null,8,["options","selected"])])]),o(Da,{cols:n(i),rows:n(z),button_delete_func:ta,button_info_func:sa,hide_func:d.value},null,8,["cols","rows","hide_func"]),t("div",mn,[o(n(ka),{modelValue:n(l).currentPage,"onUpdate:modelValue":a[5]||(a[5]=e=>n(l).currentPage=e),pages:n(l).page,"range-size":n(l).currentPage},null,8,["modelValue","pages","range-size"])])])):(f(),v("div",hn,gn)),o(K,{offcanvas_title:"Tambah Bahan Cair",offcanvas_id:"offcanvas-tambah-bahan"},{default:A(()=>[t("form",{onSubmit:E(ea,["prevent"])},[o(ja,{label_name:"Nama Bahan",placeholder_text:"Nama Bahan",modelValue:n(r).nama,"onUpdate:modelValue":a[6]||(a[6]=e=>n(r).nama=e),required:"required"},null,8,["modelValue"]),o(q,{label_name:"Jumlah Bahan (liter)",placeholder_text:"Jumlah Bahan (liter)",modelValue:n(r).jumlah,"onUpdate:modelValue":a[7]||(a[7]=e=>n(r).jumlah=e),modelModifiers:{number:!0},required:"required"},null,8,["modelValue"]),o(q,{label_name:"Konsentrasi (pH)",placeholder_text:"Konsentrasi cairan (pH)",modelValue:n(r).konsentrasi,"onUpdate:modelValue":a[8]||(a[8]=e=>n(r).konsentrasi=e),modelModifiers:{number:!0},required:"required"},null,8,["modelValue"]),o(J,{label_name:"Keterangan",placeholder_text:"Keterangan",modelValue:n(r).keterangan,"onUpdate:modelValue":a[9]||(a[9]=e=>n(r).keterangan=e)},null,8,["modelValue"]),fn,t("div",bn,[o(w,{type:"submit",btn_name:"Tambah",btn_class:"btn btn-success"}),o(w,{type:"button",btn_name:"Batal",btn_class:"btn btn-outline-secondary","data-bs-dismiss":"offcanvas","aria-label":"Close"})])],40,pn)]),_:1}),o(K,{offcanvas_title:"Pengadaan Bahan Cair",offcanvas_id:"offcanvas-pengadaan-alat"},{default:A(()=>[t("form",{onSubmit:E(na,["prevent"])},[kn,o(n(Q),{modelValue:n(c).id,"onUpdate:modelValue":a[10]||(a[10]=e=>n(c).id=e),searchable:!0,options:n(F),placeholder:"Masukkan nama bahan...",required:!0},null,8,["modelValue","options"]),yn,o(q,{label_name:"Jumlah Pengadaan Bahan",placeholder_text:"Jumlah Pengadaan Bahan",modelValue:n(c).jumlah,"onUpdate:modelValue":a[11]||(a[11]=e=>n(c).jumlah=e),modelModifiers:{number:!0},required:"required"},null,8,["modelValue"]),o(J,{label_name:"Keterangan",placeholder_text:"Keterangan",modelValue:n(c).keterangan,"onUpdate:modelValue":a[12]||(a[12]=e=>n(c).keterangan=e)},null,8,["modelValue"]),Bn,t("div",wn,[o(w,{type:"submit",btn_name:"Tambah",btn_class:"btn btn-success"}),o(w,{type:"button",btn_name:"Batal",btn_class:"btn btn-outline-secondary","data-bs-dismiss":"offcanvas","aria-label":"Close"})])],40,vn)]),_:1}),o(K,{offcanvas_title:"Lapor Bahan Cair Rusak",offcanvas_id:"offcanvas-lapor-alat-rusak"},{default:A(()=>[t("form",{onSubmit:E(la,["prevent"])},[Vn,o(n(Q),{modelValue:n(_).id,"onUpdate:modelValue":a[13]||(a[13]=e=>n(_).id=e),searchable:!0,options:n(F),placeholder:"Masukkan nama bahan...",required:!0},null,8,["modelValue","options"]),Dn,o(q,{label_name:"Jumlah Pengadaan Bahan",placeholder_text:"Jumlah Pengadaan Bahan",modelValue:n(_).jumlah,"onUpdate:modelValue":a[14]||(a[14]=e=>n(_).jumlah=e),modelModifiers:{number:!0},required:"required"},null,8,["modelValue"]),o(J,{label_name:"Keterangan",placeholder_text:"Keterangan",modelValue:n(_).keterangan,"onUpdate:modelValue":a[15]||(a[15]=e=>n(_).keterangan=e)},null,8,["modelValue"]),jn,t("div",xn,[o(w,{type:"submit",btn_name:"Lapor",btn_class:"btn btn-warning"}),o(w,{type:"button",btn_name:"Batal",btn_class:"btn btn-outline-secondary","data-bs-dismiss":"offcanvas","aria-label":"Close"})])],40,$n)]),_:1}),o(Aa,{modal_title:"Info Detail",modal_id:"modal-info-detail"},{default:A(()=>[o(n(ya),{modelValue:h.value,"onUpdate:modelValue":a[16]||(a[16]=e=>h.value=e),placeholder:"klik untuk memilih tanggal",autoApply:"",range:"",class:"mb-4"},null,8,["modelValue"]),t("table",An,[Cn,t("tbody",null,[(f(!0),v(I,null,Y(n(Z),(e,g)=>(f(),v("tr",{key:g,id:g,class:ia(e.status.toLowerCase().replace(/\s+/g,"")=="laporanbahanrusak"?"table-warning":"table-success")},[t("td",null,B(e.status),1),t("td",null,B(e.tanggal),1),t("td",null,B(e.penginput),1),t("td",null,B(e.keterangan),1),t("td",null,B(e.jumlah),1)],10,Pn))),128)),t("tr",null,[Sn,t("td",null,[t("b",null,B(n(V).total),1)])])])])]),_:1})],64))}},On=[{path:"/",name:"Dashboard",component:be,children:[{path:"",name:"DaftarBahanAlat",component:$t},{path:"daftar-bahan-padat",name:"DaftarBahanPadat",component:en},{path:"daftar-bahan-cair",name:"DaftarBahanCair",component:Ln},{path:"login",name:"Login",component:le}]}],Oa=qa({history:Ra(),routes:On}),Tn=()=>new Promise((m,h)=>{const l=ua(R(),u=>{l(),m(u)},h)});Oa.beforeEach(async(m,h,l)=>{m.matched.some(u=>u.meta.requiresAuth)?await Tn?l():l({name:"Login"}):l()});const En={};function In(m,h){const l=ma("router-view");return f(),M(l)}var Un=La(En,[["render",In]]);const ca=Na(Un);ca.use(Oa);ca.use(Ka,Ja);ca.use(Ha());ca.mount("#app");
